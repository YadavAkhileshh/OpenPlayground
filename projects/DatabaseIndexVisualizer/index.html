<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŒ³ Database Index Visualizer</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-database"></i>
                <h1>Database Index Visualizer</h1>
            </div>
            <p class="subtitle">See how indexes work in real-time with interactive visualizations</p>
        </header>

        <div class="main-content">
            <!-- Control Panel -->
            <div class="control-panel">
                <div class="panel-section">
                    <h3><i class="fas fa-sliders-h"></i> Controls</h3>
                    
                    <div class="input-group">
                        <label for="dataSize">
                            <i class="fas fa-chart-bar"></i> Dataset Size
                        </label>
                        <input type="range" id="dataSize" min="10" max="500" value="100">
                        <span class="value-display" id="sizeValue">100 records</span>
                    </div>

                    <div class="input-group">
                        <label for="searchValue">
                            <i class="fas fa-search"></i> Search Value
                        </label>
                        <div class="search-input">
                            <input type="number" id="searchValue" placeholder="Enter value (1-1000)" min="1" max="1000" value="42">
                            <button id="searchBtn" class="btn-primary">
                                <i class="fas fa-play"></i> Start Search
                            </button>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3><i class="fas fa-project-diagram"></i> Index Types</h3>
                    <div class="algorithm-selector">
                        <button class="algo-btn active" data-algo="btree">
                            <i class="fas fa-tree"></i>
                            <span>B-Tree Index</span>
                        </button>
                        <button class="algo-btn" data-algo="hash">
                            <i class="fas fa-hashtag"></i>
                            <span>Hash Index</span>
                        </button>
                        <button class="algo-btn" data-algo="sequential">
                            <i class="fas fa-list-ol"></i>
                            <span>Full Scan</span>
                        </button>
                    </div>
                </div>

                <div class="panel-section">
                    <h3><i class="fas fa-bolt"></i> Operations</h3>
                    <div class="operation-buttons">
                        <button id="insertBtn" class="btn-secondary">
                            <i class="fas fa-plus-circle"></i> Insert Record
                        </button>
                        <button id="resetBtn" class="btn-secondary">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                        <button id="compareBtn" class="btn-success">
                            <i class="fas fa-balance-scale"></i> Compare All
                        </button>
                    </div>
                </div>
            </div>

            <!-- Visualization Area -->
            <div class="visualization-area">
                <div class="visualization-header">
                    <h2 id="vizTitle">B-Tree Index Visualization</h2>
                    <div class="status-indicator">
                        <div class="status-dot" id="statusDot"></div>
                        <span id="statusText">Ready</span>
                    </div>
                </div>

                <div class="data-structure-container">
                    <!-- B-Tree Visualization -->
                    <div class="structure-viz active" id="btree-viz">
                        <div class="tree-container" id="btreeContainer">
                            <!-- B-tree nodes will be generated here -->
                        </div>
                        <div class="explanation">
                            <h4><i class="fas fa-info-circle"></i> How B-Tree Works:</h4>
                            <p>â€¢ Balanced tree structure for efficient searching</p>
                            <p>â€¢ Each node contains sorted keys and pointers</p>
                            <p>â€¢ Search complexity: O(log n)</p>
                        </div>
                    </div>

                    <!-- Hash Index Visualization -->
                    <div class="structure-viz" id="hash-viz">
                        <div class="hash-table" id="hashTable">
                            <!-- Hash buckets will be generated here -->
                        </div>
                        <div class="explanation">
                            <h4><i class="fas fa-info-circle"></i> How Hash Index Works:</h4>
                            <p>â€¢ Uses hash function to map keys to buckets</p>
                            <p>â€¢ Direct access to data location</p>
                            <p>â€¢ Search complexity: O(1) average case</p>
                        </div>
                    </div>

                    <!-- Sequential Scan Visualization -->
                    <div class="structure-viz" id="sequential-viz">
                        <div class="scan-container" id="scanContainer">
                            <!-- Sequential data will be generated here -->
                        </div>
                        <div class="explanation">
                            <h4><i class="fas fa-info-circle"></i> How Full Scan Works:</h4>
                            <p>â€¢ Checks every record one by one</p>
                            <p>â€¢ No index used - scans entire dataset</p>
                            <p>â€¢ Search complexity: O(n)</p>
                        </div>
                    </div>
                </div>

                <div class="animation-controls">
                    <div class="speed-control">
                        <label><i class="fas fa-tachometer-alt"></i> Animation Speed:</label>
                        <input type="range" id="animationSpeed" min="1" max="10" value="5">
                    </div>
                    <button id="stepBtn" class="btn-secondary">
                        <i class="fas fa-step-forward"></i> Step Mode
                    </button>
                </div>
            </div>

            <!-- Performance Dashboard -->
            <div class="metrics-dashboard">
                <div class="dashboard-header">
                    <h3><i class="fas fa-chart-line"></i> Performance Metrics</h3>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-shoe-prints"></i>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value" id="stepCount">0</div>
                            <div class="metric-label">Steps Taken</div>
                        </div>
                        <div class="metric-progress">
                            <div class="progress-bar" id="stepProgress"></div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value" id="timeComplexity">O(1)</div>
                            <div class="metric-label">Time Complexity</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value" id="comparisons">0</div>
                            <div class="metric-label">Comparisons Made</div>
                        </div>
                        <div class="metric-progress">
                            <div class="progress-bar" id="comparisonProgress"></div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-hdd"></i>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value" id="ioOperations">0</div>
                            <div class="metric-label">I/O Operations</div>
                        </div>
                    </div>
                </div>

                <!-- Comparison Chart -->
                <div class="comparison-section">
                    <h4><i class="fas fa-balance-scale-left"></i> Index Comparison</h4>
                    <div class="comparison-chart" id="comparisonChart">
                        <div class="chart-bar" data-algo="btree">
                            <div class="bar-label">B-Tree</div>
                            <div class="bar-container">
                                <div class="bar-fill" style="width: 60%"></div>
                                <span class="bar-value">60 ms</span>
                            </div>
                        </div>
                        <div class="chart-bar" data-algo="hash">
                            <div class="bar-label">Hash</div>
                            <div class="bar-container">
                                <div class="bar-fill" style="width: 30%"></div>
                                <span class="bar-value">30 ms</span>
                            </div>
                        </div>
                        <div class="chart-bar" data-algo="sequential">
                            <div class="bar-label">Full Scan</div>
                            <div class="bar-container">
                                <div class="bar-fill" style="width: 90%"></div>
                                <span class="bar-value">90 ms</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Legend -->
        <div class="legend">
            <div class="legend-item">
                <div class="color-box searching"></div>
                <span>Currently Searching</span>
            </div>
            <div class="legend-item">
                <div class="color-box found"></div>
                <span>Found Element</span>
            </div>
            <div class="legend-item">
                <div class="color-box visited"></div>
                <span>Visited Node</span>
            </div>
            <div class="legend-item">
                <div class="color-box comparing"></div>
                <span>Comparing Values</span>
            </div>
        </div>

        <!-- Tutorial Modal -->
        <div class="tutorial-modal" id="tutorialModal">
            <div class="modal-content">
                <h3><i class="fas fa-graduation-cap"></i> How to Use</h3>
                <ul>
                    <li>1. Select an index type (B-Tree, Hash, or Full Scan)</li>
                    <li>2. Adjust dataset size with the slider</li>
                    <li>3. Enter a search value and click "Start Search"</li>
                    <li>4. Watch the visualization and see performance metrics</li>
                    <li>5. Use "Compare All" to see side-by-side performance</li>
                </ul>
                <button id="closeTutorial" class="btn-primary">Got it!</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>