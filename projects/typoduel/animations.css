/* Animation Keyframes */

@keyframes titlePulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

@keyframes glitchEffect {
    0%, 90%, 100% {
        transform: translate(0);
    }
    92% {
        transform: translate(-2px, 2px);
    }
    94% {
        transform: translate(2px, -2px);
    }
    96% {
        transform: translate(-2px, -2px);
    }
    98% {
        transform: translate(2px, 2px);
    }
}

@keyframes float {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px);
    }
}

@keyframes healthShine {
    0% {
        left: -100%;
    }
    100% {
        left: 200%;
    }
}

@keyframes targetPulse {
    0%, 100% {
        box-shadow: 0 0 50px rgba(0, 217, 255, 0.3);
        transform: scale(1);
    }
    50% {
        box-shadow: 0 0 70px rgba(0, 217, 255, 0.6);
        transform: scale(1.02);
    }
}

@keyframes comboPulse {
    0% {
        transform: scale(0.5);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes hitFlash {
    0% {
        opacity: 0.8;
        transform: scale(1);
    }
    100% {
        opacity: 0;
        transform: scale(2);
    }
}

@keyframes shake {
    0%, 100% {
        transform: translateX(0);
    }
    10%, 30%, 50%, 70%, 90% {
        transform: translateX(-10px);
    }
    20%, 40%, 60%, 80% {
        transform: translateX(10px);
    }
}

@keyframes damageFloat {
    0% {
        opacity: 1;
        transform: translateY(0) scale(0.5);
    }
    50% {
        opacity: 1;
        transform: translateY(-50px) scale(1.2);
    }
    100% {
        opacity: 0;
        transform: translateY(-100px) scale(0.8);
    }
}

@keyframes correctPulse {
    0% {
        box-shadow: 0 0 50px rgba(0, 255, 136, 0.3);
    }
    50% {
        box-shadow: 0 0 100px rgba(0, 255, 136, 0.8);
    }
    100% {
        box-shadow: 0 0 50px rgba(0, 255, 136, 0.3);
    }
}

@keyframes wrongPulse {
    0% {
        box-shadow: 0 0 50px rgba(255, 51, 102, 0.3);
    }
    50% {
        box-shadow: 0 0 100px rgba(255, 51, 102, 0.8);
    }
    100% {
        box-shadow: 0 0 50px rgba(255, 51, 102, 0.3);
    }
}

@keyframes particle {
    0% {
        opacity: 0;
        transform: translate(0, 0) scale(0);
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(0);
    }
}

/* State Animations */
.target-display.correct {
    animation: correctPulse 0.3s ease-out;
    border-color: var(--color-success);
    color: var(--color-success);
}

.target-display.wrong {
    animation: wrongPulse 0.3s ease-out, shake 0.4s ease-out;
    border-color: var(--color-danger);
    color: var(--color-danger);
}

/* Screen Transitions */
.screen {
    animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.screen.fadeOut {
    animation: fadeOut 0.3s ease-out forwards;
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}

/* Victory/Defeat Animations */
@keyframes victoryFlash {
    0%, 100% {
        border-color: var(--color-success);
        box-shadow: 0 0 50px rgba(0, 255, 136, 0.5);
    }
    50% {
        border-color: var(--color-accent);
        box-shadow: 0 0 80px rgba(255, 204, 0, 0.8);
    }
}

@keyframes defeatFlash {
    0%, 100% {
        border-color: var(--color-danger);
        box-shadow: 0 0 50px rgba(255, 51, 102, 0.5);
    }
    50% {
        box-shadow: 0 0 80px rgba(255, 51, 102, 0.8);
    }
}

.game-over-content.victory {
    animation: victoryFlash 1s ease-in-out infinite;
}

.game-over-content.defeat {
    animation: defeatFlash 1s ease-in-out infinite;
}

/* Round transition */
@keyframes roundBanner {
    0% {
        opacity: 0;
        transform: scale(0.5) translateX(-50%);
    }
    20% {
        opacity: 1;
        transform: scale(1.2) translateX(-50%);
    }
    80% {
        opacity: 1;
        transform: scale(1) translateX(-50%);
    }
    100% {
        opacity: 0;
        transform: scale(0.8) translateX(-50%);
    }
}

.round-banner {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
    font-size: 5rem;
    font-weight: 900;
    color: var(--color-accent);
    text-shadow: 0 0 50px var(--color-accent);
    z-index: 2000;
    animation: roundBanner 2s ease-out forwards;
    pointer-events: none;
}

/* Combo Streak Effects */
.combo-streak-3 .combo-value {
    animation: comboGlow 1s ease-in-out infinite;
}

.combo-streak-5 .combo-value {
    color: var(--color-success);
    text-shadow: 0 0 20px var(--color-success);
    animation: comboGlow 0.5s ease-in-out infinite;
}

.combo-streak-10 .combo-value {
    color: var(--color-secondary);
    text-shadow: 0 0 30px var(--color-secondary);
    animation: comboGlow 0.3s ease-in-out infinite;
}

@keyframes comboGlow {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
}

/* Particle Effects */
.particle {
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    pointer-events: none;
    animation: particle 1s ease-out forwards;
}

.particle.success {
    background: var(--color-success);
    box-shadow: 0 0 10px var(--color-success);
}

.particle.damage {
    background: var(--color-danger);
    box-shadow: 0 0 10px var(--color-danger);
}

/* Low Health Warning */
.health-bar.low-health {
    animation: lowHealthPulse 0.5s ease-in-out infinite;
}

@keyframes lowHealthPulse {
    0%, 100% {
        filter: brightness(1);
    }
    50% {
        filter: brightness(1.5);
    }
}

/* Critical State */
.character.critical .character-avatar {
    animation: criticalShake 0.2s ease-in-out infinite;
}

@keyframes criticalShake {
    0%, 100% {
        transform: rotate(0deg);
    }
    25% {
        transform: rotate(-2deg);
    }
    75% {
        transform: rotate(2deg);
    }
}

/* Enemy Attack Animation */
.character.attacking .character-avatar {
    animation: attackPulse 0.4s ease-out;
}

@keyframes attackPulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.15);
    }
    100% {
        transform: scale(1);
    }
}

.character.attacking .avatar-face {
    animation: attackFlash 0.4s ease-out;
}

@keyframes attackFlash {
    0%, 100% {
        filter: brightness(1);
    }
    50% {
        filter: brightness(2) drop-shadow(0 0 20px var(--color-danger));
    }
}
