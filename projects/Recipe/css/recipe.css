:root{
  --bg:#fdf6ec;--card:#fff;--text:#333;--primary:#ff7043;--shadow:0 20px 40px rgba(0,0,0,.1);
  --tag-vegetarian:#4caf50;--tag-quick:#2196f3;--tag-healthy:#ff9800;
  --tag-vegan:#8bc34a;--tag-glutenfree:#9c27b0;--tag-spicy:#f44336;
  --tag-comfort:#795548;--tag-easy:#03a9f4
}
body.dark{
  --bg:#121212;--card:#1f1f1f;--text:#f5f5f5;--primary:#ffab91
}
body{margin:0;font-family:Poppins, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;background:var(--bg);color:var(--text);transition:.3s}
header{display:flex;justify-content:space-between;align-items:center;padding:24px 28px;position:sticky;top:0;background:linear-gradient(180deg, rgba(0,0,0,0.04), rgba(0,0,0,0));backdrop-filter:saturate(140%) blur(6px);z-index:10}
.brand{display:flex;align-items:center;gap:12px}
.brand .logo{display:grid;place-items:center;width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg, var(--primary), #ff8a65);color:white;box-shadow:0 10px 25px rgba(0,0,0,0.15)}
.brand h1{margin:0;font-size:1.25rem;letter-spacing:.2px}
.actions{display:flex;align-items:center;gap:10px}
.btn{display:inline-flex;align-items:center;gap:8px;border:none;border-radius:12px;padding:10px 14px;cursor:pointer;background:var(--primary);color:#fff;box-shadow:0 6px 16px rgba(0,0,0,.12);transition:transform .15s ease, box-shadow .15s ease}
.btn:hover{transform:translateY(-1px);box-shadow:0 12px 24px rgba(0,0,0,.18)}
.btn.secondary{background:transparent;color:var(--text);border:1px solid rgba(0,0,0,.12)}
.btn .icon{width:18px;height:18px}

.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:22px;padding:24px}
.card{background:var(--card);border-radius:18px;box-shadow:var(--shadow);overflow:hidden;transition:.25s ease;display:flex;flex-direction:column}
.card:hover{transform:translateY(-4px)}
.card .image-wrap{position:relative;overflow:hidden}
.card img{width:100%;height:180px;object-fit:cover;transition:transform .25s ease}
.card:hover img{transform:scale(1.03)}
.card .info{padding:16px;display:flex;flex-direction:column;gap:12px}
.card .title-row{display:flex;justify-content:space-between;align-items:center}
.title{font-size:1rem;margin:0;display:flex;align-items:center;gap:8px}
.modal{position:fixed;inset:0;display:none;background:rgba(0,0,0,.6);align-items:center;justify-content:center}
.modal-content{background:var(--card);padding:22px;border-radius:18px;width:92%;max-width:720px;max-height:85vh;overflow:auto;box-shadow:0 30px 60px rgba(0,0,0,.25)}
input,textarea{width:100%;padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,.12);margin:6px 0;background:transparent;color:var(--text)}
.timer{font-size:1.2rem;margin:10px 0}
.favorite{font-size:1.3rem;cursor:pointer;background:transparent;border:none;padding:4px;line-height:1;transition:transform .15s ease}
.favorite:hover{transform:scale(1.1)}
.favorite:active{transform:scale(0.95)}
.badge{position:absolute;top:10px;left:10px;background:rgba(0,0,0,.55);color:#fff;padding:6px 10px;border-radius:999px;font-size:.75rem;display:flex;align-items:center;gap:6px}
.meta{display:flex;gap:10px;color:#666;font-size:.85rem}
.button-row{display:flex;gap:10px;flex-wrap:wrap}
.button-row .btn{padding:8px 12px;border-radius:10px}
.divider{height:1px;background:rgba(0,0,0,.08);margin:8px 0}
.format-badge{
  position:absolute;top:5px;right:5px;background:rgba(76,175,80,0.9);
  color:white;padding:2px 6px;border-radius:4px;font-size:10px;font-weight:bold;
}
.format-warning{
  background:#fff3cd;border:1px solid #ffeaa7;padding:8px;border-radius:5px;
  margin:10px 0;font-size:12px;color:#856404;
}
.format-info{
  background:#e3f2fd;border:1px solid #2196f3;padding:10px;border-radius:5px;
  margin:10px 0;font-size:12px;color:#1565c0;
}
.btn-small{font-size:11px;padding:4px 8px;margin-left:5px;border-radius:4px;}
.image-container{position:relative;overflow:hidden;}
.image-container img{transition:transform 0.2s ease;}
.image-container:hover img{transform:scale(1.02);}
/* Accessibility focus styles */
.btn:focus-visible, button:focus-visible, [role="button"]:focus-visible, input:focus-visible, textarea:focus-visible {
  outline: 3px solid color-mix(in oklab, var(--primary), white 35%);
  outline-offset: 2px;
  border-radius: 12px;
}
/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
  .card:hover img, .image-container:hover img { transform: none !important; }
}
/* Empty state and image error feedback */
.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;padding:60px;border:1px dashed rgba(0,0,0,.15);border-radius:16px;color:#666;background:rgba(0,0,0,.02);margin:24px}
.empty-state .title{font-weight:700;font-size:1.2rem;color:var(--text)}
.img-error{display:none;color:#b00020;font-size:12px;margin-top:6px}
/* Category and Tag Styles */
.filter-bar{display:flex;gap:12px;padding:12px 24px;background:var(--card);border-bottom:1px solid rgba(0,0,0,.08);flex-wrap:wrap;align-items:center}
.filter-bar label{font-size:.9rem;font-weight:600;color:var(--text)}
.filter-bar select{padding:8px 12px;border-radius:8px;border:1px solid rgba(0,0,0,.12);background:var(--bg);color:var(--text);cursor:pointer}
.tag-filter-group{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.tag-checkbox{display:none}
.tag-label{padding:6px 12px;border-radius:20px;border:2px solid rgba(0,0,0,.12);background:transparent;color:var(--text);cursor:pointer;font-size:.85rem;display:inline-flex;align-items:center;gap:6px;transition:all .2s ease}
.tag-label:hover{transform:translateY(-1px);border-color:var(--primary)}
.tag-checkbox:checked + .tag-label{background:var(--primary);border-color:var(--primary);color:white;font-weight:600}
.tag-badge{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:12px;font-size:.75rem;font-weight:600;color:white;margin:2px}
.tag-badge.vegetarian{background:var(--tag-vegetarian)}
.tag-badge.quick{background:var(--tag-quick)}
.tag-badge.healthy{background:var(--tag-healthy)}
.tag-badge.vegan{background:var(--tag-vegan)}
.tag-badge.glutenfree{background:var(--tag-glutenfree)}
.tag-badge.spicy{background:var(--tag-spicy)}
.tag-badge.comfort{background:var(--tag-comfort)}
.tag-badge.easy{background:var(--tag-easy)}
.category-badge{position:absolute;top:10px;right:10px;background:rgba(0,0,0,.75);color:#fff;padding:5px 10px;border-radius:8px;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.tag-select-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:8px;margin:10px 0}
.tag-select-label{display:flex;align-items:center;gap:6px;padding:8px;border:2px solid rgba(0,0,0,.12);border-radius:8px;cursor:pointer;transition:all .2s ease}
.tag-select-label:hover{background:rgba(0,0,0,.02);border-color:var(--primary)}
.tag-select-label input:checked + span{font-weight:700}
.filter-reset{font-size:.8rem;color:var(--primary);cursor:pointer;text-decoration:underline;margin-left:auto}
.filter-reset:hover{color:#d84315}
