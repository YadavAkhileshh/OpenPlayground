const inputDisplay = document.getElementById("input");
const resultDisplay = document.getElementById("result");
const buttons = document.querySelectorAll("button");

let expression = "";

buttons.forEach(button => {
    button.addEventListener("click", () => {
        const value = button.innerText;

        // CLEAR
        if (value === "Clear") {
            expression = "";
            inputDisplay.innerText = "0";
            resultDisplay.innerText = "Result";
            return;
        }

        // EQUALS
        if (value === "=") {
            if (expression === "") return;

            try {
                const calcResult = eval(expression);
                resultDisplay.innerText = calcResult;
            } catch {
                resultDisplay.innerText = "Error";
            }
            return;
        }

        // Prevent multiple operators in a row
        const operators = ["+", "-", "*", "/"];
        const lastChar = expression.slice(-1);

        if (
            operators.includes(lastChar) &&
            operators.includes(value)
        ) {
            return;
        }

        // Append clicked value
        expression += value;
        inputDisplay.innerText = expression;
    });
});
